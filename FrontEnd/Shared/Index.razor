@page "/"
@using FrontEnd.Features.Category.StateManagment.Actions.TopCategoryActions;
@using FrontEnd.Features.Category.StateManagment.States;
@using FrontEnd.Features.Category.Component;
@inject IState<CategoryState> CategoryState
@inject IDispatcher Dispatcher
@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<PageTitle>Categories</PageTitle>

@if (CategoryState.Value.IsLoading)
{
    <p>
        <em >Загрузка...</em>
    </p>
}
else
{
    <CategoryListComponent categories="CategoryState.Value.Categories" />


}
@code{
    protected override void OnInitialized()
    {
        base.OnInitialized();
        Dispatcher.Dispatch(new TopCategoriesAction());
    }
}